#import <%= '<Foundation/Foundation.h>' %>
#import <%= '<CoreData/CoreData.h>' %>

<% for relationship in entity.relationships.select { |e| !e.to_many } -%>
@class <%= relationship.destination_entity %>;
<% end -%>

@interface _<%= entity.name %> : <%= entity.parent_entity %>
<% for attribute in entity.attributes -%>
@property (<%= type_mapper.property_attributes(attribute.type).join(', ') %>) <%= type_mapper.property_type(attribute.type)%><%= attribute.name %>;
<% end -%>

<% for relationship in entity.relationships -%>
@property (nonatomic, strong) <%= type_mapper.relationship_type(relationship) %><%= relationship.name %>;
<% end -%>
@end
<% if !entity.relationships.select { |e| e.to_many }.empty? %>
@interface <%= entity.name %> (CoreDataGeneratedAccessors)
<% for relationship in entity.relationships.select { |e| e.to_many } %>
<% if relationship.ordered -%>
- (void)insertObject:(NSManagedObject *)object in<%= relationship.name.capitalize %>AtIndex:(NSUInteger)index;
- (void)removeObjectFrom<%= relationship.name.capitalize %>AtIndex:(NSUInteger)index;
- (void)insert<%= relationship.name.capitalize %>:(NSArray *)<%= relationship.name %> atIndexes:(NSIndexSet *)indexes;
- (void)remove<%= relationship.name.capitalize %>AtIndexes:(NSIndexSet *)indexes;
- (void)replaceObjectIn<%= relationship.name.capitalize %>AtIndex:(NSUInteger)index withObject:(NSManagedObject *)object;
- (void)replace<%= relationship.name.capitalize %>AtIndexes:(NSIndexSet *)indexes with<%= relationship.name.capitalize %>:(NSArray *)<%= relationship.name %>;
- (void)add<%= relationship.name.capitalize %>Object:(NSManagedObject *)object;
- (void)remove<%= relationship.name.capitalize %>Object:(NSManagedObject *)object;
- (void)add<%= relationship.name.capitalize %>:(NSOrderedSet *)<%= relationship.name %>;
- (void)remove<%= relationship.name.capitalize %>:(NSOrderedSet *)<%= relationship.name %>;
<% else -%>
- (void)add<%= relationship.name.capitalize %>Object:(NSManagedObject *)value;
- (void)remove<%= relationship.name.capitalize %>Object:(NSManagedObject *)value;
- (void)add<%= relationship.name.capitalize %>:(NSSet *)<%= relationship.name %>;
- (void)remove<%= relationship.name.capitalize %>:(NSSet *)<%= relationship.name %>;
<% end -%>
<% end %>
@end
<% end -%>
