#import <%= '<Foundation/Foundation.h>' %>
#import <%= '<CoreData/CoreData.h>' %>

<% for relationship in entity.relationships.select { |e| !e.to_many } -%>
@class <%= relationship.destination_entity %>;
<% end -%>

@interface _<%= entity.name %> : <%= entity.parent_entity %>
<% for attribute in entity.attributes -%>
@property (<%= type_reader.property_attributes(attribute.type).join(', ') %>) <%= type_reader.property_type(attribute.type)%><%= attribute.name %>;
<% end -%>

<% for relationship in entity.relationships -%>
@property (nonatomic, strong) <%= type_reader.relationship_type(relationship) %><%= relationship.name %>;
<% end -%>
@end
<% if !entity.relationships.select { |e| e.to_many }.empty? %>
@interface <%= entity.name %> (CoreDataGeneratedAccessors)
<% for relationship in entity.relationships.select { |e| e.to_many } %>
<% if relationship.ordered -%>
- (void)insertObject:(NSManagedObject *)object in<%= capitalized_name(relationship) %>AtIndex:(NSUInteger)index;
- (void)removeObjectFrom<%= capitalized_name(relationship) %>AtIndex:(NSUInteger)index;
- (void)insert<%= capitalized_name(relationship) %>:(NSArray *)<%= relationship.name %> atIndexes:(NSIndexSet *)indexes;
- (void)remove<%= capitalized_name(relationship) %>AtIndexes:(NSIndexSet *)indexes;
- (void)replaceObjectIn<%= capitalized_name(relationship) %>AtIndex:(NSUInteger)index withObject:(NSManagedObject *)object;
- (void)replace<%= capitalized_name(relationship) %>AtIndexes:(NSIndexSet *)indexes with<%= capitalized_name(relationship) %>:(NSArray *)<%= relationship.name %>;
- (void)add<%= capitalized_name(relationship) %>Object:(NSManagedObject *)object;
- (void)remove<%= capitalized_name(relationship) %>Object:(NSManagedObject *)object;
- (void)add<%= capitalized_name(relationship) %>:(NSOrderedSet *)<%= relationship.name %>;
- (void)remove<%= capitalized_name(relationship) %>:(NSOrderedSet *)<%= relationship.name %>;
<% else -%>
- (void)add<%= capitalized_name(relationship) %>Object:(NSManagedObject *)value;
- (void)remove<%= capitalized_name(relationship) %>Object:(NSManagedObject *)value;
- (void)add<%= capitalized_name(relationship) %>:(NSSet *)<%= relationship.name %>;
- (void)remove<%= capitalized_name(relationship) %>:(NSSet *)<%= relationship.name %>;
<% end -%>
<% end %>
@end
<% end -%>
